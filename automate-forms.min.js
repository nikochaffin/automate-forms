!function(e){function t(a){if(r[a])return r[a].exports;var l=r[a]={exports:{},id:a,loaded:!1};return e[a].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(1)},function(e,t,r){!function(e,t,a){function l(e){var r=this;r.el=e,r.name=e.getAttribute("automate-form").split("."),r.instance=r.name[0],r.name=r.name[1],r._fieldTypes={string:n,integer:o,decimal:p,boolean:d},r.getFormRequest=c({url:r.getUrlBase()+"/api/v1/forms/get_form?form_name="+r.name}).success(function(e){if(e.fields&&e.fields.length>0){for(var a=0;a<e.fields.length;a++)r.addField(e.fields[a]);r.submitEl=t.createElement("button"),r.submitEl.setAttribute("type","submit"),r.submitEl.classList.add(i.prefixClass("button")),r.submitEl.classList.add(i.prefixClass("submit-button"));var l=t.createElement("span");l.classList.add(i.prefixClass("button-text")),l.innerText="Submit",r.submitEl.appendChild(l);var s=t.createElement("span");s.classList.add(i.prefixClass("spinner")),r.submitEl.appendChild(s),r.el.appendChild(r.submitEl)}}),r.el.addEventListener("submit",function(e){e.preventDefault(),r.submitEl.setAttribute("disabled","");var t={};for(fieldName in r.fields){var a=r.fields[fieldName];t[fieldName]=a._field.value}r.sumbitFormRequest=c({method:"POST",url:r.getPostUrl(),data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).success(function(e){console.log(e),r.submitEl.removeAttribute("disabled")})})}function s(){for(var e=["form[automate-form]"],r=[],a=0;a<e.length;a++){var s=t.querySelectorAll(e[a]);s&&(r=r.concat(Array.prototype.slice.call(s)))}for(var a=0;a<r.length;a++){new l(r[a])}}var i=r(2),n=r(3),o=r(6),p=r(7),d=r(8),c=r(10);l.prototype.getUrlBase=function(){return"https://"+this.instance+".nebrios.com"},l.prototype.getPostUrl=function(){return this.getUrlBase()+"/api/v1/forms/post_form"},l.prototype.addStringField=function(e){var t=this,r=new n(e);t.el.appendChild(r.wrapperEl)},l.prototype.addIntegerField=function(e){var t=this,r=new o(e);t.el.appendChild(r.wrapperEl)},l.prototype.addDecimalField=function(e){var t=this,r=new p(e);t.el.appendChild(r.wrapperEl)},l.prototype.addBooleanField=function(e){var t=this,r=new d(e);t.el.appendChild(r.wrapperEl)},l.prototype.addField=function(e){var t=this;if(t.fields=t.fields||{},t.fields[e.key]=e,t._fieldTypes[e.type]){var r=new t._fieldTypes[e.type](e);t.el.appendChild(r.wrapperEl),t.fields[e.key]._field=r,delete t.fields[e.key].val}},e.AutomateForm=l,"loading"!==t.readyState?s():t.addEventListener("DOMContentLoaded",s)}(window,window.document)},function(e,t){var r={};r.cssClassPrefix="af-",r.prefixClass=function(e){return r.cssClassPrefix+e},e.exports=r},function(e,t,r){function a(e){var t=this;s.call(t,e),t.el.setAttribute("type","text"),t.el.classList.add(l.prefixClass("field--string"))}var l=r(2),s=r(4);a.prototype=Object.create(s.prototype),a.prototype.constructor=a,e.exports=a},function(e,t,r){function a(e){var t=this;s.call(t,e),t.el.addEventListener("focus",function(e){t._onFieldFocus.call(t,e)}),t.el.addEventListener("blur",function(e){t._onFieldBlur.call(t,e)}),t.el.addEventListener("input",function(e){t._onFieldInput.call(t,e)}),t.el.addEventListener("keydown",function(e){t._onKeyDown.call(t,e)}),t._onFieldInput()}var l=r(2),s=r(5);a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype._onKeyDown=function(e){var t=this;t._allowedCharacters&&(1!=e.key.length||t._isValidCharacter(e.key)&&t._checkLimitedCharacter(e.key)||e.preventDefault())},a.prototype.setAllowedCharacters=function(e){var t=this;t._allowedCharacters=new RegExp(e,"g")},a.prototype.setLimitedCharacters=function(e){var t=this;t._limitedCharacters=e},a.prototype._isValidCharacter=function(e){var t=this;return!t._allowedCharacters||!!e.match(t._allowedCharacters)},a.prototype._checkLimitedCharacter=function(e){var t=this;if(!t._limitedCharacters)return!0;var r=t._limitedCharacters[e];if(r&&("number"==typeof r||"number"==typeof r.limit)){var a=new RegExp(r.re,"g")||new RegExp(e,"g"),l=(r.limit||r,t.value.toString().match(a));return!l||l.length<r}return!0},a.prototype._onFieldInput=function(e){var t=this;t.value=t.valueParse(t.el.value),t.wrapperEl&&(""!==t.value?t.wrapperEl.classList.add(l.prefixClass("field-has-content")):t.wrapperEl.classList.remove(l.prefixClass("field-has-content")))},e.exports=a},function(e,t,r){function a(e){var t=this,r=document.createElement("div");r.classList.add(l.prefixClass("field-wrapper"));var a=e.elementTag||"input";t.name=e.key;var s=e.inputName||e.key,i=document.createElement(a);if(i.setAttribute("name",s),i.setAttribute("id",s),e.placeholder&&(i.setAttribute("placeholder",e.placeholder||""),r.classList.add(l.prefixClass("field-has-placeholder"))),e.disabled&&i.setAttribute("disabled",""),e.val&&(i.setAttribute("value",e.val),r.classList.add(l.prefixClass("field-has-content"))),i.classList.add(l.prefixClass("field")),t.el=i,t.wrapperEl=r,r.appendChild(t.el),e.label!==!1){var n=document.createElement("label");n.setAttribute("for",e.inputName||e.key),n.innerText=e.label||e.key,n.classList.add(l.prefixClass("label")),r.appendChild(n),t.labelEl=n}}var l=r(2);a.prototype._onFieldFocus=function(e){var t=this;t.wrapperEl&&t.wrapperEl.classList.add(l.prefixClass("field-focused"))},a.prototype._onFieldBlur=function(e){var t=this;t.wrapperEl&&t.wrapperEl.classList.remove(l.prefixClass("field-focused"))},a.prototype.valueParse=function(e){return e},e.exports=a},function(e,t,r){function a(e){var t=this;t.valueParse=function(e){return""!==e?parseInt(e):""},s.call(t,e),t.el.classList.add(l.prefixClass("field--integer")),t.setAllowedCharacters(/\d/)}var l=r(2),s=r(4);a.prototype=Object.create(s.prototype),a.prototype.constructor=a,e.exports=a},function(e,t,r){function a(e){var t=this;t.valueParse=function(e){return""!==e?parseFloat(e):""},s.call(t,e),t.el.classList.add(l.prefixClass("field--decimal")),t.setAllowedCharacters(/[\d\.]/),t.setLimitedCharacters({".":{re:/\./,limit:1}})}var l=r(2),s=r(4);a.prototype=Object.create(s.prototype),a.prototype.constructor=a,e.exports=a},function(e,t,r){function a(e){var t=this;t.valueParse=function(e){var t=this;return t.el.checked},s.call(t,e),t.el.setAttribute("type","checkbox"),t.el.classList.add(l.prefixClass("field--boolean")),t.labelEl.classList.add(l.prefixClass("label--boolean")),t.wrapperEl.classList.add(l.prefixClass("field-wrapper--no-underline"))}var l=r(2),s=r(9);a.prototype=Object.create(s.prototype),a.prototype.constructor=a,e.exports=a},function(e,t,r){function a(e){var t=this;l.call(t,e),t.el.addEventListener("change",function(e){t._onFieldChange.call(t,e)}),t._onFieldChange()}var l=(r(2),r(5));a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.prototype._onFieldChange=function(e){var t=this;t.value=t.valueParse(t.el.value)},e.exports=a},function(e,t){function r(e){var t=this;if(t.method=e.method||"GET",t.url=e.url,t.url||console.warn("URL not specified"),t._xhr=new XMLHttpRequest,t._xhr.onload=function(e){var r=e.target.responseText;try{r=JSON.parse(r)}catch(e){}finally{t._successCallback&&t._successCallback.call({},r)}},t._xhr.open(t.method,t.url),e.headers)for(header in e.headers)t._xhr.setRequestHeader(header,e.headers[header]);return e.data?t._xhr.send(e.data):t._xhr.send(),t.success=function(e){t._successCallback=e},t}e.exports=r}]);