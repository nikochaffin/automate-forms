!function(e){function t(a){if(s[a])return s[a].exports;var r=s[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){s(1)},function(e,t,s){!function(e,t,a){function r(){for(var e=["form[automate-form]"],s=[],a=0;a<e.length;a++){var r=t.querySelectorAll(e[a]);r&&(s=s.concat(Array.prototype.slice.call(r)))}for(var a=0;a<s.length;a++){new o(s[a])}}var l=s(2),n=s(3),i=s(5),o=function(e){var s=this;s.el=e,s.name=e.getAttribute("automate-form").split("."),s.instance=s.name[0],s.name=s.name[1],s.getFormRequest=i({url:s.getUrlBase()+"/api/v1/forms/get_form?form_name="+s.name}).success(function(e){if(e.fields&&e.fields.length>0){for(var a=0;a<e.fields.length;a++)s.addField(e.fields[a]);s.submitEl=t.createElement("button"),s.submitEl.setAttribute("type","submit"),s.submitEl.classList.add(l.prefixClass("button")),s.submitEl.classList.add(l.prefixClass("submit-button"));var r=t.createElement("span");r.classList.add(l.prefixClass("button-text")),r.innerText="Submit",s.submitEl.appendChild(r);var n=t.createElement("span");n.classList.add(l.prefixClass("spinner")),s.submitEl.appendChild(n),s.el.appendChild(s.submitEl)}}),s.el.addEventListener("submit",function(e){e.preventDefault(),s.submitEl.setAttribute("disabled","");var t=new FormData(s.el);s.sumbitFormRequest=i({method:"POST",url:s.getPostUrl(),data:t}).success(function(e){console.log(e),s.submitEl.removeAttribute("disabled")})})};o.prototype.getUrlBase=function(){return"https://"+this.instance+".nebrios.com"},o.prototype.getPostUrl=function(){return this.getUrlBase()+"/api/v1/forms/post_form"},o.prototype.addStringField=function(e){var t=this,s=new n(e);t.el.appendChild(s.wrapperEl)},o.prototype.addField=function(e){var t=this;switch(e.type){case"string":t.addStringField(e);break;default:console.warn("Uknown field type")}},e.AutomateForm=o,"loading"!==t.readyState?r():t.addEventListener("DOMContentLoaded",r)}(window,window.document)},function(e,t){var s={};s.cssClassPrefix="af-",s.prefixClass=function(e){return s.cssClassPrefix+e},e.exports=s},function(e,t,s){var a=s(2),r=s(4),l=function(e){var t=this;r.call(t,e),t.el.setAttribute("type","text"),t.el.classList.add(a.prefixClass("field--string"))};l.prototype=Object.create(r.prototype),l.prototype.constructor=l,e.exports=l},function(e,t,s){var a=s(2),r=function(e){var t=this,s=document.createElement("div");s.classList.add(a.prefixClass("field-wrapper"));var r=e.elementTag||"input";t.name=e.key;var l=e.inputName||e.key,n=document.createElement(r);if(n.setAttribute("name",l),n.setAttribute("id",l),e.placeholder&&(n.setAttribute("placeholder",e.placeholder||""),s.classList.add(a.prefixClass("field-has-placeholder"))),e.disabled&&n.setAttribute("disabled",""),e.val&&(n.setAttribute("value",e.val),s.classList.add(a.prefixClass("field-has-content"))),n.classList.add(a.prefixClass("field")),n.addEventListener("focus",function(e){t._onFieldFocus.call(t,e)}),n.addEventListener("blur",function(e){t._onFieldBlur.call(t,e)}),n.addEventListener("input",function(e){t._onFieldInput.call(t,e)}),t.el=n,t.wrapperEl=s,s.appendChild(t.el),e.label!==!1){var i=document.createElement("label");i.setAttribute("for",e.inputName||e.key),i.innerText=e.label||e.key,i.classList.add(a.prefixClass("label")),s.appendChild(i)}};r.prototype._onFieldFocus=function(e){var t=this;t.wrapperEl&&t.wrapperEl.classList.add(a.prefixClass("field-focused"))},r.prototype._onFieldBlur=function(e){var t=this;t.wrapperEl&&t.wrapperEl.classList.remove(a.prefixClass("field-focused"))},r.prototype._onFieldInput=function(e){var t=this;t.value=t.el.value,t.wrapperEl&&(""!==t.value?t.wrapperEl.classList.add(a.prefixClass("field-has-content")):t.wrapperEl.classList.remove(a.prefixClass("field-has-content")))},e.exports=r},function(e,t){function s(e){var t=this;if(t.method=e.method||"GET",t.url=e.url,t.url||console.warn("URL not specified"),t._xhr=new XMLHttpRequest,t._xhr.onload=function(e){var s=e.target.responseText;try{s=JSON.parse(s)}catch(e){}finally{t._successCallback&&t._successCallback.call({},s)}},t._xhr.open(t.method,t.url),e.headers)for(header in e.headers)t._xhr.setRequestHeader(header,e.headers[header]);return e.data?t._xhr.send(e.data):t._xhr.send(),t.success=function(e){t._successCallback=e},t}e.exports=s}]);