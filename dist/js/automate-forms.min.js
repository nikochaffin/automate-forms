!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n(2)},function(e,t,n){!function(e,t,r){function i(){for(var e=["form[automate-form-action]","form[af-action]"],n=t.querySelectorAll(e.join(", ")),r=0;r<n.length;r++){var i=n[r];i.addEventListener("submit",p)}}var o=n(3),a=n(4),s=n(6),u=n(5),l=function(e){return"https://"+e+".nebrios.com"},c=function(e){var t=e.getAttribute("automate-forms-action")||e.getAttribute("af-action");return t=t.split("."),{instance:t[0],script:t[1]||"forms",endpoint:t[2]||"post_form"}},f=function(e){var t=c(e);return l(t.instance)+"/api/v1/"+[t.script,t.endpoint].join("/")},d=function(e){var t=c(e);return l(t.instance)+"/api/v1/"+[t.script,"file_upload"].join("/")},p=function(e){e&&e.preventDefault();var t=this;t.submitEl=t.querySelector('input[type="submit"], button[type="submit"]'),t.submitEl.setAttribute("disabled",""),t._submissionField=a(t);for(var n=t.querySelectorAll('input[type="file"]'),r=0,i=0;i<n.length;i++){var l=n[i];"file"==l.type&&l.files.length>0&&(r+=l.files.length)}if(r>0&&!t.hasAttribute("af-files-uploaded")){console.log("there are files to submit!");var c=new FormData;c.set("_submission_guid",t._submissionField.value);for(var i=0;i<n.length;i++){var l=n[i];if("file"==l.type&&l.files.length>0)for(var x=0;x<l.files.length;x++)console.log(l.files[x]),c.append(l.name,l.files[x],l.files[x].name)}t.submitFileRequest=o({method:"POST",url:d(t),data:c}).success(function(e){console.log(e),t.setAttribute("af-files-uploaded",""),p.call(t)})}else{var c=new FormData(t);c=s(c,t),t.sumbitFormRequest=o({method:"POST",url:f(t),data:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).success(function(e){console.log(e),t.submitEl.removeAttribute("disabled"),t.removeAttribute("af-files-uploaded"),t._submissionField.value=u()})}};"loading"!==t.readyState?i():t.addEventListener("DOMContentLoaded",i)}(window,window.document)},function(e,t){function n(e){var t=this;if(t.method=e.method||"GET",t.url=e.url,t.url||console.warn("URL not specified"),t._xhr=new XMLHttpRequest,t._xhr.onload=function(e){var n=e.target.responseText;try{n=JSON.parse(n)}catch(e){}finally{t._successCallback&&t._successCallback.call({},n)}},t._xhr.open(t.method,t.url),e.headers)for(header in e.headers)t._xhr.setRequestHeader(header,e.headers[header]);return e.data?t._xhr.send(e.data):t._xhr.send(),t.success=function(e){t._successCallback=e},t}e.exports=n},function(e,t,n){function r(e){var t;if(e.querySelector('input[name="_submission_guid"]'))t=e.querySelector('input[name="_submission_guid"]');else{var n=i(),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","_submission_guid"),r.value=n,e.appendChild(r),t=r}return t}var i=n(5);e.exports=r},function(e,t){function n(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t}e.exports=n},function(e,t){function n(e,t){for(var n={},r=e.keys(),i=r.next();!i.done;){var o;if(t){var a=t.querySelector('input[name="'+i.value+'"]');o=a.automateValue||a.afValue||a.value}else o=e.get(i.value);"object"!=typeof o&&((parseFloat(o)||0==parseFloat(o))&&(o=parseFloat(o)),n[i.value]=o),i=r.next()}return n}e.exports=n}]);